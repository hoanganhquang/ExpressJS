{"mappings":"AEAO,KAAK,CAAC,yCAAS,OAAS,CAAC;IAC9B,KAAK,CAAC,EAAE,GAAG,QAAQ,CAAC,aAAa,CAAC,CAAQ;IAC1C,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,aAAa,CAAC,WAAW,CAAC,EAAE;AACzC,CAAC;AAEM,KAAK,CAAC,yCAAS,IAAI,IAAI,EAAE,GAAG,GAAK,CAAC;IACvC,yCAAS;IACT,KAAK,CAAC,MAAM,IAAI,yBAAyB,EAAE,IAAI,CAAC,EAAE,EAAE,GAAG,CAAC,MAAM;IAC9D,QAAQ,CAAC,aAAa,CAAC,CAAM,OAAE,kBAAkB,CAAC,CAAY,aAAE,MAAM;IACtE,MAAM,CAAC,UAAU,CAAC,yCAAS,EAAE,IAAI;AACnC,CAAC;;;ADRM,KAAK,CAAC,yCAAK,UAAU,KAAK,EAAE,QAAQ,GAAK,CAAC;IAC/C,GAAG,CAAC,CAAC;QACH,KAAK,CAAC,GAAG,GAAG,KAAK,CAAC,KAAK,CAAC,CAAC;YACvB,MAAM,EAAE,CAAM;YACd,GAAG,EAAE,CAA0C;YAC/C,IAAI,EAAE,CAAC;uBACL,KAAK;0BACL,QAAQ;YACV,CAAC;QACH,CAAC;QAED,EAAE,EAAE,GAAG,CAAC,IAAI,CAAC,MAAM,KAAK,CAAS,UAAE,CAAC;YAClC,yCAAS,CAAC,CAAS,UAAE,CAAW;YAChC,MAAM,CAAC,UAAU,KAAO,CAAC;gBACvB,QAAQ,CAAC,MAAM,CAAC,CAAG;YACrB,CAAC,EAAE,IAAI;QACT,CAAC;IACH,CAAC,CAAC,KAAK,EAAE,KAAK,EAAE,CAAC;QACf,yCAAS,CAAC,CAAO,QAAE,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO;IAChD,CAAC;AACH,CAAC;AAEM,KAAK,CAAC,yCAAM,aAAe,CAAC;IACjC,GAAG,CAAC,CAAC;QACH,KAAK,CAAC,GAAG,GAAG,KAAK,CAAC,KAAK,CAAC,CAAC;YACvB,MAAM,EAAE,CAAK;YACb,GAAG,EAAE,CAA2C;QAClD,CAAC;QAED,EAAE,EAAE,GAAG,CAAC,IAAI,CAAC,MAAM,KAAK,CAAS,UAC/B,QAAQ,CAAC,MAAM,CAAC,IAAI;IAExB,CAAC,CAAC,KAAK,EAAE,KAAK,EAAE,CAAC;QACf,yCAAS,CAAC,CAAO,QAAE,CAAoB;IACzC,CAAC;AACH,CAAC;;;ADnCD,KAAK,CAAC,+BAAS,GAAG,QAAQ,CAAC,aAAa,CAAC,CAAO;AAChD,KAAK,CAAC,+BAAS,GAAG,QAAQ,CAAC,aAAa,CAAC,CAAkB;AAE3D,EAAE,EAAE,+BAAS,EACX,+BAAS,CAAC,gBAAgB,CAAC,CAAQ,UAAG,CAAC,GAAK,CAAC;IAC3C,CAAC,CAAC,cAAc;IAChB,KAAK,CAAC,KAAK,GAAG,QAAQ,CAAC,cAAc,CAAC,CAAO,QAAE,KAAK;IACpD,KAAK,CAAC,QAAQ,GAAG,QAAQ,CAAC,cAAc,CAAC,CAAU,WAAE,KAAK;IAC1D,yCAAK,CAAC,KAAK,EAAE,QAAQ;AACvB,CAAC;AAGH,EAAE,EAAE,+BAAS,EACX,+BAAS,CAAC,gBAAgB,CAAC,CAAO,QAAE,yCAAM","sources":["public/js/index.js","public/js/login.js","public/js/alert.js"],"sourcesContent":["import { login, logout } from \"./login.js\";\r\n\r\nconst loginForm = document.querySelector(\".form\");\r\nconst logoutBtn = document.querySelector(\".nav__el--logout\");\r\n\r\nif (loginForm) {\r\n  loginForm.addEventListener(\"submit\", (e) => {\r\n    e.preventDefault();\r\n    const email = document.getElementById(\"email\").value;\r\n    const password = document.getElementById(\"password\").value;\r\n    login(email, password);\r\n  });\r\n}\r\n\r\nif (logoutBtn) {\r\n  logoutBtn.addEventListener(\"click\", logout);\r\n}\r\n","import { showAlert } from \"./alert.js\";\r\n\r\nexport const login = async (email, password) => {\r\n  try {\r\n    const res = await axios({\r\n      method: \"POST\",\r\n      url: \"http://localhost:3000/api/v1/users/login\",\r\n      data: {\r\n        email,\r\n        password,\r\n      },\r\n    });\r\n\r\n    if (res.data.status === \"success\") {\r\n      showAlert(\"success\", \"Logged in\");\r\n      window.setTimeout(() => {\r\n        location.assign(\"/\");\r\n      }, 1500);\r\n    }\r\n  } catch (error) {\r\n    showAlert(\"error\", error.response.data.message);\r\n  }\r\n};\r\n\r\nexport const logout = async () => {\r\n  try {\r\n    const res = await axios({\r\n      method: \"GET\",\r\n      url: \"http://localhost:3000/api/v1/users/logout\",\r\n    });\r\n\r\n    if (res.data.status === \"success\") {\r\n      location.reload(true);\r\n    }\r\n  } catch (error) {\r\n    showAlert(\"error\", \"Error logging out!\");\r\n  }\r\n};\r\n","export const hideAlert = () => {\r\n  const el = document.querySelector(\".alert\");\r\n  if (el) el.parentElement.removeChild(el);\r\n};\r\n\r\nexport const showAlert = (type, msg) => {\r\n  hideAlert();\r\n  const markup = `<div class=\"alert alert--${type}\">${msg}</div>`;\r\n  document.querySelector(\"body\").insertAdjacentHTML(\"afterbegin\", markup);\r\n  window.setTimeout(hideAlert, 5000);\r\n};\r\n"],"names":[],"version":3,"file":"bundle.js.map","sourceRoot":"../../"}